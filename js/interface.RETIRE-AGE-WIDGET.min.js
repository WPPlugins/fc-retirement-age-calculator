/*
 Copyright 2016 Pine Grove Software, LLC
 financial-calculators.com
 common.LIB.js
*/
var inputType,LIB$=function(){var b={ERR_MSGS:{noDelKey:"Please use the backspace key to delete.",noCurKeys:"Left, up & down arrow keys are disabled. So are the home, end, pgup and pgdn keys.\n\nUse backspace to delete.\n\nIf value is selected, just start typing new value to clear prior value.\n\nWhen a number is selected (value shown in inverse), use right arrow key to clear selection without clearing value. Then backspace to edit.\n\nTIP: Generally it is best to use the TAB or SHIFT-TAB keys to move from one input to the next or previous input.\n\nTIP 2: Generally, editing a value is inefficient. Since values are auto selected, just type the number you want.",
noSeparators:"Do not type the thousand separator character.\n\n(If using US convention, that would be the comma.)\n\nI'm smart enough to enter them for you!"}},c=Error("An unknown date calculation error occured.\nPlease provide us with your inputs and settings so that we can fix this. Thank you."),x=Error("Date is not valid - bad year.");b.zoomLevel=1;b.AMORT_MTHD={AM_NORMAL:0};b.CCY_FORMATS={USD1:0,USD2:1,GBH:2,NON:3,EUR1:4,EUR2:5,EUR3:6,EUR4:7};b.CCY_CONVENTIONS=[{sep:",",dPnt:".",ccy:"$",ccy_r:""},
{sep:".",dPnt:",",ccy:"$",ccy_r:""},{sep:",",dPnt:".",ccy:"\u00a3",ccy_r:""},{sep:",",dPnt:".",ccy:"",ccy_r:""},{sep:",",dPnt:".",ccy:"\u20ac",ccy_r:""},{sep:".",dPnt:",",ccy:"\u20ac",ccy_r:""},{sep:" ",dPnt:",",ccy:"",ccy_r:"\u20ac"},{sep:".",dPnt:",",ccy:"",ccy_r:"\u20ac"}];b.DATE_FORMATS={MDY:0,DMY:1,YMD:2};b.DATE_FORMAT_STRS=["MM/DD/YYYY","DD/MM/YYYY","YYYY-MM-DD"];b.DATE_CONVENTIONS=[{date_mask:"MM/DD/YYYY",date_sep:"/",sep_pos1:2,sep_pos2:5},{date_mask:"DD/MM/YYYY",date_sep:"/",sep_pos1:2,sep_pos2:5},
{date_mask:"YYYY-MM-DD",date_sep:"-",sep_pos1:4,sep_pos2:7}];b.ROW_TYPES={DETAIL:0,ANNUAL_TOTALS:1,RUNNING_TOTALS:2};b.STR_FREQUENCIES=[];b.STR_FREQUENCIES[6]="Monthly";b.CURRENCIES={EUR:"\u20ac",GBP:"\u00a3",INR:"\u20a8",JPY:"\u00a5",KPW:"\u20a9",USD:"$"};b.INITIAL_PERIOD_TYPE={REGULAR:1};b.EMPTY_STR="";b.PCT="%";b.US_DECIMAL=".";b.MONTHS="Jan Feb Mar Apr May Jun Jul Aug Sept Oct Nov Dec".split(" ");b.MIN_YEAR=1970;b.MIN_DATE=new Date(b.MIN_YEAR,0,1,0,0,0,0);b.MAX_YEAR=2099;b.MAX_DATE=new Date(b.MAX_YEAR,
11,31,0,0,0,0);b.INITIAL_CASH_FLOWS=500;b.DIY=0;b.PPY=[];b.PPY[6]=12;b.LIPM=2;b.SIPM=2;b.displayExceptionMsg=function(a){alert(a)};b.print_calc=function(){window.print()};b.focusSelect=function(a){a.onfocus=function(){a.select();a.onmouseup=function(){a.onmouseup=null;return!1}}};b.stripCharsInBag=function(a,b){var d,f,e="";for(d=0;d<a.length;d+=1)f=a.charAt(d),-1===b.indexOf(f)&&(e+=f);return e};b.StringBuffer=function(){this.buffer=[]};b.StringBuffer.prototype.append=function(a){this.buffer.push(a);
return this};b.StringBuffer.prototype.toString=function(){return this.buffer.join("")};b.LocalConventions=function(a){a||(a=b.CCY_FORMATS.USD1);this.ccy_format=a;this.sep=b.CCY_CONVENTIONS[a].sep;this.dPnt=b.CCY_CONVENTIONS[a].dPnt;this.ccy=b.CCY_CONVENTIONS[a].ccy;this.ccy_r=b.CCY_CONVENTIONS[a].ccy_r};b.LocalConventions.prototype.numConvention=function(){var a=new b.LocalConventions(this.ccy_format);a.ccy="";a.ccy_r="";return a};b.LocalConventions.prototype.rateConvention=function(){var a=new b.LocalConventions(this.ccy_format);
a.ccy="";a.ccy_r="%";return a};b.LocalDateConventions=function(a){a&&null!==a||(a=b.DATE_FORMATS.MDY);this.date_format=a;this.date_mask=b.DATE_CONVENTIONS[a].date_mask;this.date_sep=b.DATE_CONVENTIONS[a].date_sep;this.sep_pos1=b.DATE_CONVENTIONS[a].sep_pos1;this.sep_pos2=b.DATE_CONVENTIONS[a].sep_pos2};b.dateNow=new Date;b.yearNow=b.dateNow.getFullYear().toString();b.monthNowName=b.MONTHS[b.dateNow.getMonth()];b.monthNow=("0"+(b.dateNow.getMonth()+1)).slice(-2);b.dayNow="01";b.pmt_method=0;b.pmt_frequency=
6;b.cmp_frequency=6;b.ppy=b.PPY[b.pmt_frequency];b.cmpPPY=b.PPY[b.cmp_frequency];b.moneyConventions=new b.LocalConventions;b.rateConventions=b.moneyConventions.rateConvention();b.numConventions=b.moneyConventions.numConvention();b.resetNumConventions=function(a){a!==b.moneyConventions.ccy_format&&(b.moneyConventions=new b.LocalConventions(parseInt(Cookies.get("ccy_format"),10)),b.rateConventions=b.moneyConventions.rateConvention(),b.numConventions=b.moneyConventions.numConvention(),Cookies.set("ccy_format",
parseInt(a,10),{expires:Infinity}))};b.dateConventions=new b.LocalDateConventions;b.sortConventions=new b.LocalDateConventions(b.DATE_FORMATS.YMD);b.resetDateConventions=function(a){a!==b.dateConventions.date_format&&(b.dateConventions=new b.LocalDateConventions(a),Cookies.set("date_format",parseInt(a,10),{expires:Infinity}))};b.evenRound=function(a,b){var d=b||0,f=Math.pow(10,d),e=+(d?a*f:a).toFixed(8),c=Math.floor(e),k=e-c,e=.49999999<k&&.50000001>k?0===c%2?c:c+1:Math.round(e);return d?e/f:e};b.roundMoney=
function(a,n,d){var f=Math.pow(10,n||2);return void 0===a||null===a||"number"!==typeof a?"":void 0!==d&&d?b.evenRound(a,n):Math.round(a*f)/f};b.addSeparators=function(a,b,d,f){var e=a.indexOf(d),c=/(\d+)(\d{3})/,k="",h;for(h=0;h<a.length;h+=1)a.charAt(h)!==b&&(k+=a.charAt(h));if(-1===e&&0<f){for(;1<k.length&&"0"===k.charAt(0)||"-"===k.charAt(0)&&2<k.length&&"0"===k.charAt(1);)k=k.substr(1,k.length-1);for(;c.test(k);)k=k.replace(c,"$1"+b+"$2");return k}if(-1===e&&0===f){for(;c.test(k);)k=k.replace(c,
"$1"+b+"$2");return k}for(a=k.split(d);c.test(a[0]);)a[0]=a[0].replace(c,"$1"+b+"$2");return 0!==f&&a[1].length<=f?a[0]+d+a[1]:0!==f?a[0]+d+a[1].substr(0,f):a[0]};b.getLocalNumStr=function(a,c){if(null===a)return"";var d=a+b.EMPTY_STR;c!==b.US_DECIMAL&&(d=d.replace(/\./,c));return d};b.formatFloat=function(a,c,d,f){a=b.getLocalNumStr(a,d);var e=a.indexOf(d);if(null===a||0===a.length)return b.EMPTY_STR;-1===e&&0!==f&&(a+=d,e=a.length-1);for(;a.length-1-e<f&&0<f;)a+="0";return b.addSeparators(a,c,d,
f)};b.formatLocalFloat=function(a,c,d,f){a=b.getLocalNumStr(a,c.dPnt);var e=a.indexOf(c.dPnt);f=void 0!==f?f:100;if(null===a||0===a.length)return b.EMPTY_STR;if("u"===a.charAt(0)||"U"===a.charAt(0))return b.UNKNOWN_STR;-1===e&&0!==d&&(a+=c.dPnt,e=a.length-1);if(0<d)for(;a.length-1-e<d;)a+="0";a=b.addSeparators(a,c.sep,c.dPnt,d);""!==c.ccy&&a.charAt(0)!==c.ccy&&a.length<f?a=c.ccy+a:""!==c.ccy_r&&a.charAt(a.length-1)!==c.ccy_r&&a.length<f&&(a+=c.ccy_r);return a};b.getUSNumStr=function(a,c,d,f,e){a!==
b.UNKNOWN_STR?(c="."!==c?c:"\\.",a=a.replace(""!==f?new RegExp("\\"+f+"|"+f+"|"+c,"g"):new RegExp("\\"+e+"|"+e+"|"+c,"g"),b.EMPTY_STR),d!==b.US_DECIMAL&&(a=a.replace(d,b.US_DECIMAL)),a.charAt(a.length-1)===b.PCT&&(a=a.slice(0,-1))):a="0";return a};b.getUSNum=function(a,c,d){a=b.getUSNumStr(a,c.sep,c.dPnt,c.ccy,c.ccy_r);return d?parseFloat(a):parseInt(a,10)};var l=function(a,c,d){this.isValid=!1;this.element=document.getElementById(a);null!==this.element&&(this.id=a,this.conventions=c&&null!==c?c:
b.moneyConventions,this.ccy_format=c.ccy_format,this.precision=void 0!==d?d:2,this.sep=c.sep,this.dPnt=c.dPnt,this.ccy=c.ccy,this.ccy_r=c.ccy_r,this.PCT="%",this.customTouchEndHandler=this.customMouseUpHandler=this.customKeyDownHandler=this.customKeyPressHandler=this.customBlurHandler=null,this.UNKNOWN_STR=b.UNKNOWN_STR,this.isTableEditor=!1,this.init(),this.isValid=!0)};b.NE=l;l.prototype.initRateEditor=function(){this.ccy="";this.ccy_r="%"};l.prototype.initNumEditor=function(){this.ccy_r=this.ccy=
""};l.prototype.addEvent=function(a,b,c){var f;"function"===typeof window.addEventListener?(f=function(a){b.call(c,a)},this.element.addEventListener(a,f,!1)):(f=function(a){b.call(c,window.event)},this.element.attachEvent("on"+a,f));return f};l.prototype.init=function(){this.isTableEditor||(this.customBlurHandler=this.addEvent("blur",this.onCustomBlur,this));this.customKeyPressHandler=this.addEvent("keypress",this.onCustomKeyPress,this);this.customKeyDownHandler=this.addEvent("keydown",this.onCustomKeyDown,
this);this.customMouseUpHandler=this.addEvent("mouseup",this.onCustomMouseUp,this);this.customTouchEndHandler=this.addEvent("touchend",this.onCustomMouseUp,this)};l.prototype.removeEvent=function(a,b){"function"===typeof window.addEventListener?this.element.removeEventListener(a,b,!1):this.element.detachEvent("on"+a,b)};l.prototype.destroy=function(){this.removeEvent("mouseup",this.customMouseUpHandler);this.removeEvent("touchend",this.customMouseUpHandler);this.customTouchEndHandler=this.customMouseUpHandler=
null;this.removeEvent("keydown",this.customKeyDownHandler);this.customKeyDownHandler=null;this.removeEvent("keypress",this.customKeyPressHandler);this.customKeyPressHandler=null;this.isTableEditor||(this.removeEvent("blur",this.customBlurHandler),this.customBlurHandler=null);this.element=null};l.prototype.onCustomKeyDown=function(a){return 46===a.keyCode?(a.preventDefault(),alert(b.ERR_MSGS.noDelKey),!1):37===a.keyCode||33===a.keyCode||34===a.keyCode||35===a.keyCode||36===a.keyCode||38===a.keyCode||
40===a.keyCode?(this.isTableEditor||alert(b.ERR_MSGS.noCurKeys),a.preventDefault?a.preventDefault():a.returnValue=!1,!1):188===a.keyCode&&","===this.sep||(110===a.keyCode||190===a.keyCode)&&"."===this.sep||32===a.keyCode&&" "===this.sep?(alert(b.ERR_MSGS.noSeparators),a.preventDefault?a.preventDefault():a.returnValue=!1,!1):!0};l.prototype.onCustomKeyPress=function(a){var b,c,f,e=!1,e="";f=0<=this.element.value.indexOf(this.dPnt);b=null;if(a.which)e=0!==this.element.selectionEnd-this.element.selectionStart,
b=a.which;else if(window.event)b=document.selection.createRange(),e=""!==b.text,b=a.keyCode;else return 37===a.keyCode||33===a.keyCode||34===a.keyCode||35===a.keyCode||36===a.keyCode?(a.preventDefault?a.preventDefault():a.returnValue=!1,!1):!0;c=String.fromCharCode(b);(f=/\d/.test(c)||8===b||c===this.dPnt&&!f&&0<this.precision||45===b&&(0===this.element.value.length||e))&&!e&&8!==b&&this.element.value.length<this.element.maxLength&&85!==b&&117!==b&&(e=this.element.value+c,45===b?this.element.value=
"":1<e.length&&this.element.value!==this.UNKNOWN_STR?this.element.value=e.substr(0,e.length-1):(this.element.value=c,f=!1));f||(a.preventDefault?a.preventDefault():a.returnValue=!1);return f};l.prototype.onCustomBlur=function(a){if(0===this.element.value.length)this.element.value=0;else if(this.element.value===b.UNKNOWN_STR)return;this.element.value=b.formatLocalFloat(b.getUSNum(this.element.value,this.conventions,this.precision),this.conventions,this.precision,this.element.maxLength);return!0};l.prototype.onCustomMouseUp=
function(a){a.preventDefault?(this.element.selectionStart=0,this.element.selectionEnd=this.element.value.length,a.preventDefault()):(this.element.select(),a.returnValue=!1);return!1};l.prototype.setValue=function(a){this.element.value=b.formatLocalFloat(a,this.conventions,this.precision,this.element.maxLength)};l.prototype.getUSNumber=function(){var a=b.getUSNumStr(this.element.value,this.sep,this.dPnt,this.ccy,this.ccy_r);return 0!==this.precision?parseFloat(a):parseInt(a,10)};b.dateMath=function(){var a=
0,n=0,d=0,f={days:null,periods:null,oddDays:null},e=function(a,b){a.getDate();a.setMonth(a.getMonth()+b);return a.getTime()},p=function(a,f,c){var d=!0;if(1>f||12<f||isNaN(f))d=!1;if(a<b.MIN_YEAR||a>b.MAX_YEAR||isNaN(a))d=!1;if((9===f||4===f||6===f||11===f)&&(1>c||30<c))d=!1;else if(2===f){if(1>c||29<c)d=!1}else if(1>c||31<c||isNaN(c))d=!1;return d};return{addPeriods:function(a,b){var f=new Date;f.setTime(a.getTime());f.setHours(0,0,0,0);e(f,b);return f.getTime()},countPeriods:function(k,h){d=n=a=
0;if(k.getTime()>h.getTime())return alert("Error: dates out of sequence."),!1;if(k.getTime()===h.getTime())return f.days=a,f.periods=n,f.oddDays=d,f;var p=new Date,l=new Date,r=new Date,u=0;l.setTime(k.getTime());r.setTime(h.getTime());a=Math.round((r.getTime()-l.getTime())/b.ONE_DAY);do if(n+=1,p.setTime(r.getTime()),r.setTime(e(r,-1)),u+=1,1E4===u)throw c;while(r.getTime()>l.getTime()&&1E4>u);r.getTime()<l.getTime()&&(--n,r.setTime(p.getTime()),d=Math.round((r.getTime()-l.getTime())/b.ONE_DAY));
f.days=a;f.periods=n;f.oddDays=d;return f},isValidDate:p,dateStrToDate:function(a,f){var c,d;c=[];var e=[],n=new Date;f?(d=f.date_format,c=f.date_sep):(d=b.dateConventions.date_format,c=b.dateConventions.date_sep);c=a.split(c);e[0]=parseInt(c[0],10);e[1]=parseInt(c[1],10);e[2]=parseInt(c[2],10);switch(d){case b.DATE_FORMATS.MDY:p(e[2],e[0],e[1])&&(n=new Date(e[2],e[0]-1,e[1],0,0,0,0));break;case b.DATE_FORMATS.DMY:p(e[2],e[1],e[0])&&(n=new Date(e[2],e[1]-1,e[0],0,0,0,0));break;case b.DATE_FORMATS.YMD:p(e[0],
e[1],e[2])&&(n=new Date(e[0],e[1]-1,e[2],0,0,0,0))}return n},dateToDateStr:function(a,f){var c,d,e,n,p,l=a.getFullYear();if(l<b.MIN_YEAR||l>b.MAX_YEAR)throw x;f?(d=f.date_format,c=f.date_sep):(d=b.dateConventions.date_format,c=b.dateConventions.date_sep);p=("0"+(a.getMonth()+1)).slice(-2);n=("0"+a.getDate()).slice(-2);switch(d){case b.DATE_FORMATS.MDY:e=p+c+n+c+l;break;case b.DATE_FORMATS.DMY:e=n+c+p+c+l;break;case b.DATE_FORMATS.YMD:e=l+c+p+c+n}return e},getFirstNextMonth:function(a){return new Date(a.getFullYear(),
a.getMonth()+1)}}}();Cookies.get("ccy_format")||Cookies.get("date_format")?(b.moneyConventions=new b.LocalConventions(parseInt(Cookies.get("ccy_format"),10)),b.dateConventions=new b.LocalDateConventions(parseInt(Cookies.get("date_format"),10)),b.rateConventions=b.moneyConventions.rateConvention(),b.numConventions=b.moneyConventions.numConvention()):Cookies.enabled&&Cookies.set("ccy_format",b.moneyConventions.ccy_format,{expires:Infinity}).set("date_format",b.dateConventions.date_format,{expires:Infinity});
l=function(a){if(void 0===a||0===a)a=100;this.data=[];this.increment=a;this.size=0};b.Vector=l;b.Vector=l;l.prototype.getCapacity=function(){return this.data.length};l.prototype.getSize=function(){return this.size};l.prototype.isEmpty=function(){return 0===this.getSize()};l.prototype.getLastElement=function(){if(null!==this.data[this.getSize()-1])return this.data[this.getSize()-1]};l.prototype.getFirstElement=function(){if(null!==this.data[0])return this.data[0]};l.prototype.getElementAt=function(a){try{return this.data[a]}catch(b){return"Exception "+
b+" occured when accessing "+a}};l.prototype.addElement=function(a){this.data[this.size]=a;this.size+=1};l.prototype.insertElementAt=function(a,b){var c;try{this.size===this.getCapacity()&&this.resize();for(c=this.getSize();c>b;--c)this.data[c]=this.data[c-1];this.data[b]=a;this.size+=1}catch(f){return"Invalid index "+c}};l.prototype.removeElementAt=function(a){var b,c;try{c=this.data[a];for(b=a;b<this.getSize()-1;b+=1)this.data[b]=this.data[b+1];this.data[this.getSize()-1]=null;--this.size;return c}catch(f){return"Invalid index "+
a}};l.prototype.removeAllElements=function(){var a;for(a=this.size=0;a<this.data.length;a+=1)this.data[a]=null};l.prototype.indexOf=function(a){var b;for(b=0;b<this.getSize();b+=1)if(this.data[b]===a)return b;return-1};l.prototype.contains=function(a){var b;for(b=0;b<this.getSize();b+=1)if(this.data[b]===a)return!0;return!1};l.prototype.resize=function(){var a,b=[];for(a=0;a<this.data.length;a+=1)b[a]=this.data[a];this.data=b};l.prototype.trimToSize=function(){var a,b=[];for(a=0;a<this.getSize();a+=
1)b[a]=this.data[a];this.size=b.length;this.data=b};l.prototype.sort=function(a){var b,c,f,e,p;for(b=1;b<this.getSize();b+=1){e=this.data[b];f=e[a];c=b-1;p=this.data[c];for(p=p[a];0<=c&&p>f;)this.data[c+1]=this.data[c],--c,0<=c&&(p=this.data[c],p=p[a]);this.data[c+1]=e}};l.prototype.clone=function(){var a,c=new b.Vector(this.size);for(a=0;a<this.size;a+=1)"function"===typeof this.data[a].clone?c.addElement(this.data[a].clone()):c.addElement(this.data[a]);return c};l.prototype.toString=function(){var b,
c,d={},f="Vector Object properties:\nIncrement: "+this.increment+"\nSize: "+this.size+"\nElements:\n";for(b=0;b<this.getSize();b+=1)for(c in this.data[b])this.data[b].hasOwnProperty(c)&&(d=this.data[b],f+="\tObject."+c+" = "+d[c]+"\n");return f};l.prototype.overwriteElementAt=function(b,c){this.data[c]=b};return b}();/*
 Copyright 2016 Pine Grove Software, LLC
 financial-calculators.com
 pine-grove.com
 equations.js
*/
var EQ$=function(b){function c(a){return n=a.nominalRate/b.PPY[a.cmpFreq]}function x(b,a){var c,d;d=b;0!==n&&(c=Math.pow(1+n,a),d*=c);return d-b}function l(a){0===a.oDate.valueOf()&&a.oDate.setTime(b.dateMath.getFirstNextMonth(new Date));0===a.fDate.valueOf()&&a.pmtMthd===b.PMT_METHOD.ARREARS?a.fDate.setTime(b.dateMath.addPeriods(a.oDate,1,a.pmtFreq)):0===a.fDate.valueOf()&&a.fDate.setTime(a.oDate.getTime());if(a.oDate.valueOf()>a.fDate.valueOf())return!1;if((null===a.pmtMthd||isNaN(a.pmtMthd))&&
a.oDate.valueOf()===a.fDate.valueOf())a.pmtMthd=b.PMT_METHOD.ADVANCE;else if(null===a.pmtMthd||isNaN(a.pmtMthd))a.pmtMthd=b.PMT_METHOD.ARREARS;return!0}var a=b||{},n,d=[];a.roundingMethod=0;a.AMORT_MTHD_EXT={NORMAL:0};a.AMORT_MTHD_STRS_EXT=["Normal"];a.schedule={schedule1:1};a.summary={cf:[],firstDebitDateStr:"",firstCreditDateStr:"",lastDebitDateStr:[],lastCreditDateStr:[],totalNDebits:[],totalNCredits:[],totalInterest:[],totalPmts:[],nominalRate:[],NYears:0,pointsPct:0,pointsMoney:0,amortMthd:0,
DIY:0,unadjustedBalance:0,roundingMethod:a.roundingMethod,cashFlowType:1,xPmtTotal:0};a.fin_params=function(b){b=b||{};this.nominalRate=void 0!==b.nominalRate?b.nominalRate:null;this.n=b.n||null;this.cf=b.cf||0;this.pv=b.pv||0;this.fv=b.fv||0;this.pmtMthd=void 0!==b.pmtMthd?b.pmtMthd:null;this.amortMthd=void 0!==b.amortMthd?b.amortMthd:a.AMORT_MTHD_EXT.NORMAL;this.oDate=b.oDate||new Date(0);this.fDate=b.fDate||new Date(0);this.lDate=b.lDate||new Date(0)};a.fin_params.prototype.clone=function(){return new a.fin_params({nominalRate:this.nominalRate,
n:this.n,cf:this.cf,pv:this.pv,fv:this.fv,pmtFreq:this.pmtFreq,cmpFreq:this.cmpFreq,daysPerYear:this.daysPerYear,pmtMthd:this.pmtMthd,amortMthd:this.amortMthd,oDate:new Date(this.oDate.valueOf()),fDate:new Date(this.fDate.valueOf()),lDate:new Date(this.lDate.valueOf())})};a.N={calc:function(b){var a;b.n=0;l(b)&&(c(b),a=Math.log((n*b.fv+b.cf)/(n*b.pv+b.cf))/Math.log(1+n));return a}};a.RETIRE_AGE_SCHEDULE={calc:function(f){var e=void 0,p,k,h,n,t,r=1,u,v,q=0,w=0;p=[];var g=new Date(0),y=new Date(0),
m=[];if(void 0===e||null===e)e=b.schedule.schedule1;if(l(f)){a.summary.totalNDebits[e]=0;a.summary.totalNCredits[e]=0;a.summary.NYears=0;a.summary.nominalRate[e]=f.nominalRate;a.summary.pmtFreq=f.pmtFreq;a.summary.cmpFreq=f.cmpFreq;a.summary.amortMthd=f.amortMthd;c(f);f.n=Math.ceil(f.n);w=k=f.pv;0<k?(u=k,v=0,a.summary.totalNCredits[e]+=1):0>k?(v=k,u=0,a.summary.totalNDebits[e]+=1):v=u=0;g.setTime(f.oDate.getTime());n=b.dateMath.dateToDateStr(g,b.dateConventions);m.push(["","",b.ROW_TYPES.DETAIL,"Initial",
n,k,u,v,q,null,w,k,g.getMonth()+1,g.getFullYear(),g,g.valueOf()]);p=1;y.setTime(f.fDate.getTime());n=b.dateMath.dateToDateStr(y,b.dateConventions);h=f.cf;0<h?(u=h,v=0,a.summary.totalNCredits[e]+=1):0>h?(v=h,u=0,a.summary.totalNDebits[e]+=1):v=u=0;q=b.roundMoney(x(k,1));w=b.roundMoney(h+q);k=b.roundMoney(k+q+f.cf);m.push(["","",b.ROW_TYPES.DETAIL,p+":"+r,n,h,u,v,q,null,w,k,y.getMonth()+1,y.getFullYear(),y,y.valueOf()]);p=2;do g.setTime(y.getTime()),y.setTime(b.dateMath.addPeriods(y,1,f.pmtFreq)),q=
b.roundMoney(x(k,1)),w=b.roundMoney(h+q),k=b.roundMoney(k+q+f.cf),n=b.dateMath.dateToDateStr(y,b.dateConventions),0!==v&&(a.summary.totalNDebits[e]+=1),0!==u&&(a.summary.totalNCredits[e]+=1),1===p%b.PPY[f.pmtFreq]&&(r+=1,a.summary.NYears=r),t=p+":"+r,m.push(["","",b.ROW_TYPES.DETAIL,t,n,h,u,v,q,null,w,k,y.getMonth()+1,y.getFullYear(),y,y.valueOf()]),p+=1;while(p<=f.n);p=m[m.length-1];a.summary.lastDebitDateStr[e]=m[0][4];a.summary.lastCreditDateStr[e]=p[4];a.summary.unadjustedBalance=k;f=void 0;w=
v=u=t=n=h=p=q=r=k=0;g=[];if(void 0===f||null===f)f=b.schedule.schedule1;e=0;do if(e+=1,k=b.roundMoney(m[e-1][5]+k),r=b.roundMoney(m[e-1][6]+r),q=b.roundMoney(m[e-1][8]+q),p=b.roundMoney(m[e-1][9]+p),h=b.roundMoney(m[e-1][10]+h),n=b.roundMoney(m[e-1][5]+n),t=b.roundMoney(m[e-1][6]+t),u=b.roundMoney(m[e-1][8]+u),v=b.roundMoney(m[e-1][9]+v),w=b.roundMoney(m[e-1][10]+w),m[e-1][13]!==m[e][13]&&(12>=m[e-1][12]||12<m[e][12])||m[e-1][13]===m[e][13]&&12>=m[e-1][12]&&12<m[e][12])g=[],g[0]=m[e-1][0],g[0]=g[0].substr(0,
g[0].length-3)+"-99",g[1]=f,g[2]=b.ROW_TYPES.ANNUAL_TOTALS,g[3]=m[e-1][13]+" YTD:",g[4]=null,g[5]=k,g[6]=r,g[8]=q,g[10]=h,g[9]=p,g[11]=null,g[12]=12,g[13]=m[e-1][13],h=p=q=r=k=0,m.splice(e,0,g),e+=1,g=[],g[0]=m[e-1][0],g[0]=g[0].substr(0,g[0].length-3)+"-99",g[1]=f,g[2]=b.ROW_TYPES.RUNNING_TOTALS,g[3]="Running Totals:",g[4]=null,g[5]=n,g[6]=t,g[8]=u,g[10]=w,g[9]=v,g[11]=null,g[12]=12,g[13]=m[e-1][13],m.splice(e,0,g),e+=1;while(e<m.length-1);m[m.length-1][2]!==b.ROW_TYPES.RUNNING_TOTALS&&(k=b.roundMoney(m[m.length-
1][5]+k),r=b.roundMoney(m[m.length-1][6]+r),q=b.roundMoney(m[m.length-1][8]+q),p=b.roundMoney(m[m.length-1][9]+p),h=b.roundMoney(m[m.length-1][10]+h),n=b.roundMoney(m[m.length-1][5]+n),t=b.roundMoney(m[m.length-1][6]+t),u=b.roundMoney(m[m.length-1][8]+u),v=b.roundMoney(m[m.length-1][9]+v),w=b.roundMoney(m[m.length-1][10]+w),g=[],g[0]=m[e][0],g[0]=g[0].substr(0,g[0].length-3)+"-99",g[1]=f,g[2]=b.ROW_TYPES.ANNUAL_TOTALS,g[3]=m[m.length-1][13]+" YTD:",g[4]=null,g[5]=k,g[6]=r,g[8]=q,g[9]=p,g[10]=h,g[11]=
null,g[12]=12,g[13]=m[m.length-1][13],m.push(g),g=[],g[0]=m[e][0],g[0]=g[0].substr(0,g[0].length-3)+"-99",g[1]=f,g[2]=b.ROW_TYPES.RUNNING_TOTALS,g[3]="Running Totals:",g[4]=null,g[5]=n,g[6]=t,g[8]=u,g[9]=v,g[10]=w,g[11]=null,g[12]=12,g[13]=m[m.length-1][13],m.push(g));a.summary.totalInterest[f]=u;a.summary.totalPmts[f]=n;d=m}return d}};return a}(LIB$);/*
 Copyright 2016 Pine Grove Software, LLC
 financial-calculators.com
 pine-grove.com
 interface.schedules_and_charts.js
*/
var SC$=function(b,c){var x=b||{},l="<title>Your Personalized Loan Schedule</title>",a='<style type="text/css" media="screen">',a=a+'html,body{margin:0;padding:0;color:#333;height:100%;width:100%;min-width:320px;font-family:"Source Code Pro",monospace; font-size:8px; font-weight:400; overflow: hidden;} body{overflow-y: scroll} tr {line-height: 1.2} @media (min-width: 569px) {html,body{font-size:12px}} @media (min-width: 768px) {html,body{font-size:14px}} .label {font-family: "Roboto", sans-serif;} .medium {font-weight: 600; font-style: italic} .bold {font-weight: 700} .center {text-align: center} .left {text-align: left} .right {text-align: right} .wrapper {padding:1px; width:100%; height: 100%} table {width: 100%; border-collapse:collapse; margin-bottom: 20px;} #rpt tbody tr.totals, #rpt tbody tr:nth-child(even).totals {background-color: transparent;} #rpt tbody tr:nth-child(even) {background: #FCFFFF;} #rpt tbody tr:hover, #rpt tbody tr:hover.totals {background: #303E64; color: #fff; font-weight:400} #rpt tbody::after {content: ""; display: block; height: 29px;} .cHead {background: #303E64; color: #fff} td {padding: 5px 5px;} .spcr {width: 2%} .hCell {width: 24%} .rpt_title {width: 100%; font-size: 120%} .rpt_footer {width: 100%; font-style: italic; font-size: 90%;}  .btn {display: inline-block; margin-bottom: 0; font-weight: normal; vertical-align: middle; touch-action: manipulation; cursor: pointer; background-image: none; border: 1px solid transparent; white-space: nowrap; padding: 6px 12px; font-size: 100%; line-height: 1.42857143; border-radius: 4px; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; } td.brder {border-top: 1px solid #303E64} #btnPrint {margin-right:15px} #btnCopy {margin-left:15px} tr.empty {background-color: transparent !important; color:#333 !important;} .i {font-style: italic} .altColor{color:#00c} .rpt6col {width: 19%;} .rpt6colvnarrow {width: 7%;} .rpt6colnarrow {width: 15%;} .rpt6colwide {width: 21%;}  ',
a=a+"</style></head>",n=function(f){var e,d,k,h,n,t,r,u,v,q,w;t={};k=new b.StringBuffer;h=new b.StringBuffer;e=f.length-1;t=b.summary;l="<title>Your Personalized Cash Flow Schedule</title>";if(0!==e){q=f[0];v=q[4];n=b.formatLocalFloat(q[11],b.moneyConventions,2);n=b.formatLocalFloat(100*b.summary.nominalRate[1],b.rateConventions,4);d=1;do q=f[d],q=q[4],d+=1;while(null===q&&d<f.length);q=f[e];d=b.formatLocalFloat(q[6],b.moneyConventions,2);v=b.formatLocalFloat(q[8],b.moneyConventions,2);q=t.lastCreditDateStr[1];
t=b.formatLocalFloat(t.totalNCredits[1],b.numConventions,0);r=f[e-2][13]-f[0][13]+1;h.append("<table>");h.append("<thead>");h.append('<tr class="label rpt_title center bold i"><td colspan="6">Retirement Plan Summary</td></tr>');h.append('<tr class="empty"><td colspan="6"></td></tr>');h.append("</thead>");h.append("<tbody>");h.append('<tr><td class="label hCell">Total Investmented:</td><td class="right">'+d+'</td><td class="spcr">&nbsp;</td><td class="spcr">&nbsp;</td><td class="label hCell">Number of Investments:</td><td class="right">'+
t+"</td></tr>");h.append('<tr><td class="label hCell">Return on Investment (ROI):</td><td class="right">'+n+'</td><td class="spcr">&nbsp;</td><td class="spcr">&nbsp;</td><td class="label hCell">Total Gain:</td><td class="right">'+v+"</td></tr>");h.append('<tr><td class="label hCell">Last Cash Flow Date:</td><td class="right">'+q+'</td><td class="spcr">&nbsp;</td><td class="spcr">&nbsp;</td><td class="label hCell">Years:</td><td class="right">'+r+"</td></tr>");h.append("</tbody>");h.append("</table>");
h.append('<table id="rpt">');h.append("<thead>");h.append('<tr class="label rpt_title center bold"><td colspan="7">Investment Schedule</td></tr>');h.append('<tr class="empty"><td colspan="7"></td></tr>');h.append('<tr class="label cHead"><td class="rpt6colvnarrow">#/Year</td><td class="rpt6colnarrow center">Date</td><td class="rpt6col right">Investment</td><td class="rpt6col right">Investment Gain</td><td class="rpt6col right">Net Change</td><td class="rpt6colwide right">Balance</td></tr>');h.append("</thead>");
h.append("<tfoot>");h.append('<tr class="label rpt_footer"><td colspan="5">&quot;Net Change&quot; is change from prior period i.e. prior balance plus investment, plus gain on investment (interest).</td><td colspan="2" class="right">financial-calculators.com</td></tr>');h.append("</tfoot>");h.append("<tbody>");for(d=0;d<=e;d+=1)q=f[d],w=q[3],v=q[4],t=b.formatLocalFloat(q[6],b.numConventions,2),r=b.formatLocalFloat(q[8],b.numConventions,2),u=b.formatLocalFloat(q[10],b.numConventions,2),n=b.formatLocalFloat(q[11],
b.numConventions,2),q[2]===b.ROW_TYPES.DETAIL?h.append("<tr><td>"+w+'</td><td class="center">'+v+'</td><td class="right">'+t+'</td><td class="right">'+r+'</td><td class="right">'+u+'</td><td class="right">'+n+"</td></tr>"):q[2]===b.ROW_TYPES.ANNUAL_TOTALS?h.append('<tr class="totals medium"><td class="right" colspan="2">'+w+'</td><td class="right brder">'+t+'</td><td class="right brder">'+r+'</td><td class="right brder">'+u+"</td><td></td></tr>"):(h.append('<tr class="totals medium"><td class="right" colspan="2">'+
w+'</td><td class="right">'+t+'</td><td class="right">'+r+'</td><td class="right"></td><td></td></tr>'),h.append('<tr class="empty"><td colspan="7"></td></tr>'));h.append("</tbody>");h.append("</table>")}k.append("<!DOCTYPE html>");k.append('<html lang="en"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1">');k.append(l);k.append(a);k.append('<body><div class="wrapper">');k.append(h.toString());k.append("</div></body></html>");c.featherlight({iframe:"about:blank",
beforeOpen:function(){c("body").css({"overflow-y":"hidden"})},afterClose:function(){c("body").css({"overflow-y":"scroll"})}});f=document.getElementById("featherlight-id-fc");f=f.contentWindow.document||f.contentDocument;f.open();f.write(k.toString());f.close()},d={html3:'<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Financial Calculators Charts</title><style type="text/css" media="screen">html,body{margin:0;padding:0;color:#333;height:100%;width:100%;overflow: hidden;} body{overflow-y: scroll} #container{width: 95%; margin: 10px auto;} canvas {margin-bottom:25px;}</style></head><body><div id="container"><canvas id="canvas1"></canvas><canvas id="canvas2"></canvas><canvas id="canvas3"></canvas></div></body></html>',
L:0,annualTotals:null,runningTotals:null,totalsPie:null,years:null,chart0Title:"Annual Investment and Interest Totals",chart1Title:"Accumulated Investment and Interest",chart2Title:"Amount Invested & Interest as Percentage of Total Value",bs_primary_blue:"#337ab7",bs_info_blue:"#5bc0de",bs_success_green:"#5cb85c",bs_orange_warning:"#f0ad4e",bs_red_danger:"#d9534f",EVENT_DATE:0,LOAN_NO:1,ROW_TYPE:2,PER_STR:3,DATE_STR:4,CF:5,CREDIT:6,DEBIT:7,INT:8,PRIN:9,NET:10,BAL:11,MONTH:12,YEAR:13,annual_int:[],
annual_prin:[],annual_pmt:[],annual_credit:[],running_int:[],running_prin:[],running_pmt:[],net_change:[],bal:[],d8:[],d9:[],d10:[],d11:[],category:[],interest:0,prin:0,rate:0,payments:0,balance:0,strDate:"01/01/1999",strDate2:"01/01/1999",strDate2bi:"01/01/1999",kStr:""===b.moneyConventions.ccy_r?"k":" k",clear:function(){d.L=0;d.annual_int=[];d.annual_prin=[];d.annual_pmt=[];d.annual_credit=[];d.net_change=[];d.running_int=[];d.running_prin=[];d.running_pmt=[];d.d9=[];d.bal=[];d.category=[]},initAnnualSavingsTotalChart:function(a){var c=
{labels:d.category,datasets:[{type:"bar",label:"Annual Investment",backgroundColor:"rgba(217,83,79,0.75)",data:d.annual_credit},{type:"bar",label:"Annual Interest",backgroundColor:"rgba(92,184,92,0.75)",data:d.annual_int},{type:"line",label:"Change in Balance",borderWidth:1,borderColor:"rgba(51,51,51,0.5)",pointBackgroundColor:"rgba(0,0,0,0.75)",data:d.net_change}]};a=a.getElementById("canvas1").getContext("2d");d.runningTotals=new Chart(a,{type:"bar",data:c,options:{title:{display:!0,text:d.chart0Title},
tooltips:{mode:"label",callbacks:{label:function(a){return b.formatLocalFloat(a.yLabel,b.moneyConventions,0)}}},responsive:!0,scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0,ticks:{callback:function(a){return b.formatLocalFloat(a/1E3,b.moneyConventions,0)+d.kStr}}}]}}})},initAccumulatedSavingsTotalChart:function(a){var c={labels:d.category,datasets:[{type:"bar",label:"Running Investment",backgroundColor:"rgba(217,83,79,0.75)",data:d.d9},{type:"bar",label:"Running Interest",backgroundColor:"rgba(92,184,92,0.75)",
data:d.running_int},{type:"line",label:"Balance",borderWidth:1,borderColor:"rgba(51,51,51,0.5)",pointBackgroundColor:"rgba(0,0,0,0.75)",data:d.bal}]};a=a.getElementById("canvas2").getContext("2d");d.annualTotals=new Chart(a,{type:"bar",data:c,options:{title:{display:!0,text:d.chart1Title},tooltips:{mode:"label",callbacks:{label:function(a){return b.formatLocalFloat(a.yLabel,b.moneyConventions,0)}}},responsive:!0,scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0,ticks:{callback:function(a){return b.formatLocalFloat(a/
1E3,b.moneyConventions,0)+d.kStr}}}]}}})},initSavingsPIPieChart:function(a){var c={type:"pie",data:{datasets:[{data:[d.prin,d.interest],backgroundColor:["rgba(92,184,92,0.75)","rgba(217,83,79,0.75)"]}],labels:["Total Deposits","Total Interest Earned"]},options:{tooltips:{mode:"label",callbacks:{label:function(a,c){var f=c.datasets[a.datasetIndex].data[a.index],e=[];e[0]=c.labels[a.index]+": "+b.formatLocalFloat(f,b.moneyConventions,0);e[1]="Total Value: "+b.formatLocalFloat(b.roundMoney(d.prin+d.interest,
2),b.moneyConventions,0);e[2]="Pct. of Total: "+b.formatLocalFloat(b.roundMoney(f/(d.prin+d.interest)*100,1),b.rateConventions,1);return e}}},responsive:!0,title:{display:!0,text:d.chart2Title}}};a=a.getElementById("canvas3").getContext("2d");d.totalsPie=new Chart(a,c)},createSavingsCharts:function(a){var e,l,k,h,n;k=0;e=a.length-1;d.years=b.summary.NYears;for(l=0;l<=e;l+=1)h=a[l],h[2]===b.ROW_TYPES.ANNUAL_TOTALS?(d.annual_credit.push(h[6]),d.annual_int.push(h[8]),d.net_change.push(h[10]),11>=d.years||
0===k%3||0===k?d.category.push(h[13]):d.category.push(""),k+=1):h[2]===b.ROW_TYPES.RUNNING_TOTALS?(d.d9.push(h[6]),d.running_int.push(h[8]),d.running_prin.push(h[9]),d.bal.push(n)):n=h[11];h=a[e];d.interest=h[8];d.prin=h[6];h=a[0];d.strDate=h[4];h=a[e-1];d.strDate2=h[4];d.balance=h[11];d.rate=100*b.summary.nominalRate[1];c.featherlight({iframe:"about:blank",beforeOpen:function(){c("body").css({"overflow-y":"hidden"})},beforeClose:function(){d.clear();d.annualTotals.destroy();d.annualTotals=null;d.runningTotals.destroy();
d.runningTotals=null;d.totalsPie.destroy();d.totalsPie=null},afterClose:function(){c("body").css({"overflow-y":"scroll"})}});a=document.getElementById("featherlight-id-fc");var t=a.contentDocument||a.contentWindow.document;t.open();t.write(d.html3);t.close();setTimeout(function(){d.initAnnualSavingsTotalChart(t)},500);setTimeout(function(){d.initAccumulatedSavingsTotalChart(t)},500);setTimeout(function(){d.initSavingsPIPieChart(t)},500)}};x.showSavingsSchedule=function(a){n(a)};x.showSavingsCharts=
function(a){d.createSavingsCharts(a)};return x}(EQ$,jQuery);/*
 Copyright 2016 Pine Grove Software, LLC
 financial-calculators.com
 interface.SHARED.js
*/
var GUI$=function(b,c){var x=c||{};b(document.body).addClass("fc-calculator");b("#fc-modals").appendTo("body");x.show_help=function(){b.featherlight("#hText",{beforeOpen:function(){b("body").css({"overflow-y":"hidden"})},afterClose:function(){b("body").css({"overflow-y":"scroll"})}});b(".featherlight-content").css("overflow-y","auto")};var l=function(a){c.zoomLevel=void 0===a||null===a?1:.5<c.zoomLevel+a&&1.5>c.zoomLevel+a?c.zoomLevel+a:c.zoomLevel;b("#calc-wrap").css({"-webkit-transform":"scale("+
c.zoomLevel+")","-moz-transform":"scale("+c.zoomLevel+")","-ms-transform":"scale("+c.zoomLevel+")","-o-transform":"scale("+c.zoomLevel+")",transform:"scale("+c.zoomLevel+")"})};b("#grow").click(function(){l(.1)});b("#shrink").click(function(){l(-.1)});b("#original").click(function(){l()});x.init_CURRENCYDATE_Dlg=function(){switch(c.moneyConventions.ccy_format){case 0:document.getElementById("ccyUSD").checked=!0;break;case 1:document.getElementById("ccyUSD2").checked=!0;break;case 2:document.getElementById("ccyGBH").checked=
!0;break;case 3:document.getElementById("ccyNone").checked=!0;break;case 4:document.getElementById("ccyEUR1").checked=!0;break;case 5:document.getElementById("ccyEUR2").checked=!0;break;case 6:document.getElementById("ccyEUR3").checked=!0;break;case 7:document.getElementById("ccyEUR4").checked=!0}switch(c.dateConventions.date_format){case 0:document.getElementById("MMDDYY").checked=!0;break;case 1:document.getElementById("DDMMYY").checked=!0;break;case 2:document.getElementById("YYMMDD").checked=
!0}b("#CURRENCYDATE").modal()};b("#CURRENCYDATE_save").click(function(a){a.preventDefault();document.getElementById("ccyUSD").checked?c.resetNumConventions(c.CCY_FORMATS.USD1):document.getElementById("ccyUSD2").checked?c.resetNumConventions(c.CCY_FORMATS.USD2):document.getElementById("ccyGBH").checked?c.resetNumConventions(c.CCY_FORMATS.GBH):document.getElementById("ccyNone").checked?c.resetNumConventions(c.CCY_FORMATS.NON):document.getElementById("ccyEUR1").checked?c.resetNumConventions(c.CCY_FORMATS.EUR1):
document.getElementById("ccyEUR2").checked?c.resetNumConventions(c.CCY_FORMATS.EUR2):document.getElementById("ccyEUR3").checked?c.resetNumConventions(c.CCY_FORMATS.EUR3):document.getElementById("ccyEUR4").checked&&c.resetNumConventions(c.CCY_FORMATS.EUR4);document.getElementById("MMDDYY").checked?c.resetDateConventions(c.DATE_FORMATS.MDY):document.getElementById("DDMMYY").checked?c.resetDateConventions(c.DATE_FORMATS.DMY):document.getElementById("YYMMDD").checked&&c.resetDateConventions(c.DATE_FORMATS.YMD);
window.location.reload(!1)});b(function(){b('[data-toggle="tooltip"]').tooltip()});b("input").focus(function(){if("checkbox"===this.type||"radio"===this.type)return!1;this.setSelectionRange(0,999);return!1}).mouseup(function(){return!1});document.getElementById("pop-up-help")&&b("#pop-up-help").addClass("pop-up");return x}(jQuery,LIB$);/*
 Copyright 2016 Pine Grove Software, LLC
 financial-calculators.com
 pine-grove.com
 interface.RETIRE-AGE-WIDGET.js
*/
(function(b,c){function x(){a={};a.pv=d.getUSNumber();a.cf=f.getUSNumber();a.nominalRate=e.getUSNumber()/100;a.fv=p.getUSNumber();a.oDate=c.dateMath.getFirstNextMonth(new Date);a.oDate.setHours(0,0,0,0);a.fDate=c.dateMath.getFirstNextMonth(new Date(a.oDate));a.lDate=new Date;a.pmtFreq=6;a.cmpFreq=6;a.pmtMthd=0}function l(){var b,d,e,f;b=n.getUSNumber();if(0>=b)return alert("Current age must be greater than 0."),null;if(0===a.cf||0===a.nominalRate||0===a.fv)return alert('There are unknown values.\nPlease make sure all values are entered.\n\n"Current Retirement Savings" can be 0.'),
null;a.n=0;a.n=Math.ceil(c.N.calc(a));f=b+a.n/12;if(100<f)return alert("Your retirement age would be after age 100.\n\nIncrease investment amount.\n\nIncrease assumed rate of return.\n\nIncrease current retirement savings.\n\nOr do any combination of all three."),document.getElementById("edRetirementAge").value=c.formatLocalFloat(0,c.numConventions,0),document.getElementById("edNumPmts").value=c.formatLocalFloat(0,c.numConventions,0),document.getElementById("edTotalInvested").value=c.formatLocalFloat(0,
c.moneyConventions,2),document.getElementById("edInterest").value=c.formatLocalFloat(0,c.moneyConventions,2),document.getElementById("edFinalValue").value=c.formatLocalFloat(0,c.moneyConventions,2),document.getElementById("edFVDate").value=c.dateConventions.date_mask,null;a.lDate.setTime(c.dateMath.addPeriods(a.oDate,a.n,a.pmtFreq));c.RETIRE_AGE_SCHEDULE.calc(a);b=c.summary.totalPmts[1];d=c.summary.totalInterest[1];e=c.summary.unadjustedBalance;document.getElementById("edRetirementAge").value=c.formatLocalFloat(c.roundMoney(f),
c.numConventions,0);document.getElementById("edNumPmts").value=c.formatLocalFloat(a.n,c.numConventions,0);document.getElementById("edTotalInvested").value=c.formatLocalFloat(c.roundMoney(b,2),c.moneyConventions,2);document.getElementById("edInterest").value=c.formatLocalFloat(c.roundMoney(d,2),c.moneyConventions,2);document.getElementById("edFinalValue").value=c.formatLocalFloat(c.roundMoney(e,2),c.moneyConventions,2);document.getElementById("edFVDate").value=c.dateMath.dateToDateStr(a.lDate,c.dateConventions);
return 1}if(document.getElementById("retire-age")){var a={},n,d,f,e,p;b(document).ready(function(){n=new c.NE("edCurrentAge",c.numConventions,0);d=new c.NE("edPV",c.moneyConventions,2);f=new c.NE("edCF",c.moneyConventions,2);e=new c.NE("edRate",c.rateConventions,4);p=new c.NE("edFV",c.moneyConventions,2);n.setValue(n.getUSNumber());d.setValue(d.getUSNumber());f.setValue(f.getUSNumber());e.setValue(e.getUSNumber());p.setValue(p.getUSNumber());document.getElementById("edRetirementAge").value=c.formatLocalFloat(0,
c.numConventions,0);document.getElementById("edNumPmts").value=c.formatLocalFloat(0,c.numConventions,0);document.getElementById("edTotalInvested").value=c.formatLocalFloat(0,c.moneyConventions,2);document.getElementById("edInterest").value=c.formatLocalFloat(0,c.moneyConventions,2);document.getElementById("edFinalValue").value=c.formatLocalFloat(0,c.moneyConventions,2);document.getElementById("edFVDate").value=c.dateConventions.date_mask;b("#btnCalc").click(function(){x();l()});b("#btnClear").click(function(){n.setValue(0);
d.setValue(0);f.setValue(0);e.setValue(0);p.setValue(0);document.getElementById("edRetirementAge").value=c.formatLocalFloat(0,c.numConventions,0);document.getElementById("edNumPmts").value=c.formatLocalFloat(0,c.numConventions,0);document.getElementById("edTotalInvested").value=c.formatLocalFloat(0,c.moneyConventions,2);document.getElementById("edInterest").value=c.formatLocalFloat(0,c.moneyConventions,2);document.getElementById("edFinalValue").value=c.formatLocalFloat(0,c.moneyConventions,2);document.getElementById("edFVDate").value=
c.dateConventions.date_mask});b("#btnPrint").click(function(){x();l();c.print_calc()});b("#btnSchedule").click(function(){x();null!==l()&&c.showSavingsSchedule(c.RETIRE_AGE_SCHEDULE.calc(a))});b("#btnCharts").click(function(){x();null!==l()&&c.showSavingsCharts(c.RETIRE_AGE_SCHEDULE.calc(a))});b("#btnHelp").click(function(){c.show_help()});b("#btnCcyDate, #btnCcyDate2, #CCY").click(function(){GUI$.init_CURRENCYDATE_Dlg()})})}})(jQuery,GUI$);
